# Authentication

## Overview

Skala uses **HTTP Basic Authentication** to authenticate API calls. Every request to Skala’s API requires an **API key**, which should be included as the **Basic Auth username**. Skala does not require a password, so the password field should be left **blank**.

---

## Authentication Example (Python)

Below is an example of how to authenticate API requests using **Python**:

```python filename="Python"

import requests
from requests.auth import HTTPBasicAuth

url = "https://api.skala.xyz/v1/tasks"

headers = {"Accept": "application/json"}

auth = HTTPBasicAuth('{{ApiKey}}', '')  # No password required

response = requests.get(url, headers=headers, auth=auth)

print(response.text)
```

> **Tip:** Ensure you replace `{{ApiKey}}` with your actual API key before making requests.

---

## Getting Your API Key

Your **API keys** are available in your **Skala dashboard**. Follow these steps to retrieve them:

1. **Log in** to your [Skala dashboard](https://dashboard.skala.xyz).
2. Navigate to **Profile** → **API Keys**.
3. Copy the **Live API Key** or **Test API Key**, depending on your needs.

### **Troubleshooting API Key Access**

If you don’t see the **API Keys** section:

- Ensure your account role is **Admin** or **Manager**.
- If needed, ask an **Admin** to update your role via [Team Settings](https://dashboard.skala.xyz/settings/team).

---

## Test Mode vs Live Mode

Skala provides **separate environments** for testing and production:

| **Mode**      | **Behavior**                                   | **Notes**                                           |
| ------------- | ---------------------------------------------- | --------------------------------------------------- |
| **Test Mode** | Allows safe API testing                        | No real human labeling, responses contain test data |
| **Live Mode** | Executes real API requests with human labeling | Live requests **incur charges**                     |

> **Switching Modes:** Skala **does not** require an explicit switch. Use the appropriate API key to determine whether the request is in **test mode** or **live mode**.

### **Important Note:**

Live and test environments are **completely separate**. For example, if you create a **Project** in **Live Mode**, you **cannot** reference it in **Test Mode**.

To toggle between viewing **Live Mode** and **Test Mode** in the Skala **web app**, use the **environment switcher** in the project list.

---

## Callback Authentication

If you'd like to **verify** that callbacks from Skala are legitimate, use the **`skala-callback-auth`** HTTP header.

- Each callback from Skala will include this **authentication header**.
- The value of this header will match your **Live Callback Auth Key**, available in your **dashboard**.
- If the header is **missing** or **incorrect**, the callback **did not originate** from Skala.

---

## How HTTP Basic Authentication Works

Skala’s **Basic Authentication** follows a simple structure:

### **Step 1: Construct the Basic Auth String**

Basic Auth credentials are formatted as:

```
username:password
```

Since Skala **does not use passwords**, the format is:

```
{{ApiKey}}:
```

For example, if your **Live API Key** is:

```
live_SkalaRocks
```

Then the string will be:

```
live_SkalaRocks:
```

---

### **Step 2: Encode the String in Base64**

Most programming languages provide **Base64 encoding** functions. Encoding the **`live_SkalaRocks:`** string gives:

```
bGl2ZV9TY2FsZVJvY2tzOg==
```

---

### **Step 3: Set the Authorization Header**

The final `Authorization` header should be:

```
Authorization: Basic bGl2ZV9TY2FsZVJvY2tzOg==
```

---

### **Example Request Using cURL**

```sh
curl -X GET "https://api.skala.xyz/v1/projects" \
  -H "Authorization: Basic bGl2ZV9TY2FsZVJvY2tzOg==" \
  -H "Content-Type: application/json"
```

> **Note:** If you're using Postman or API testing tools, the `Authorization` header will automatically encode your API key.

---

## Best Practices for API Authentication

- **Keep API Keys Secure**: Never expose your API keys in public repositories or frontend applications.
- **Use Environment Variables**: Store API keys in environment variables instead of hardcoding them in scripts.
- **Regenerate API Keys If Compromised**: If you suspect unauthorized access, generate a new API key from the dashboard.
- **Use Test Mode for Development**: Avoid using live keys in development to prevent accidental charges.

---

## Summary

| **Feature**               | **Details**                                                  |
| ------------------------- | ------------------------------------------------------------ |
| **Authentication Method** | HTTP Basic Authentication (API Key as username, no password) |
| **Test vs Live Mode**     | Test mode returns mock responses, live mode incurs charges   |
| **API Key Location**      | Available in Skala Dashboard → Profile → API Keys            |
| **Callback Verification** | Uses `skala-callback-auth` header                            |
| **Base64 Encoding**       | Required for sending `Authorization: Basic` header           |

For additional support, visit our **[API Documentation](https://api.skala.xyz/docs)** or contact **support@skala.xyz**.
